<div id="card-edit" class="row">

	<div id="card-settings" class="col-sm-5 panel panel-default">
		<form role="form" class="panel-segment">

			<div class="form-group">
				<h1>{{lang.cardBuilder.saveAndLoad}}</h1>
				<busy-button on-click="saveCard()" label="{{lang.cardBuilder.save}}"></busy-button>
				<a ng-href="/card-selector"><button class='btn btn-default'>{{lang.cardBuilder.load}}</button></a>
				<button class='btn btn-default' type="submit" ng-click="applyDefaults()">{{lang.cardBuilder.new}}</button>
				<button ng-show="card._id" class='btn btn-default' type="submit" ng-click="deleteCard()">{{lang.cardBuilder.delete}}</button>
			</div>

			<div class="form-group">
				<h1>{{lang.cardBuilder.nameIt}}</h1>
				<input class="form-control" type="text" ng-model="card.name" placeholder="Name">
				<textarea class="form-control" rows="1" ng-model="card.story" placeholder="Description"></textarea>
				<label class="control-label"><input class="form-control" type="text" maxlength="1" size="3" ng-model="card.attack" /> {{lang.cardBuilder.attack}}</label>
				<label class="control-label"><input class="form-control" type="text" maxlength="1" size="3" ng-model="card.health" /> {{lang.cardBuilder.health}}</label>
			</div>

			<div class="form-group">
				<h1>{{lang.cardBuilder.imageUpload}}</h1>
				<input type="file" accept="image/*" image="uppedImage" resize-max-width="260" resize-max-height="180" resize-quality="0.9" resize-type="image/jpg"/>
			</div>

			<div class="form-group">
				<h1>{{lang.cardBuilder.factionAbilities}}</h1>
				<p><select ng-model="card.faction" ng-options="value.id as lang.factions[key].name for (key, value) in factions.factionLookup"></select></p>
				<p class="faction-desc">{{lang.factions[card.faction].desc}}</p>
				<ul class="checkbox" id="faction-checkboxes">
					<li ng-repeat="ability in factions.factionLookup[card.faction].abilities">
						<label><input type="checkbox" ng-model="abilityObj[ability.id]"> {{lang.abilities[ability.id].name}}</label>
						<p>{{lang.abilities[ability.id].desc}}</p>
					</li>
				</ul>
			</div>

		</form>
	</div>



	<div id="card-preview-holder" class="col-sm-7">
		<card-display card="card" magnify="medium"></card-display>
	</div>

</div>