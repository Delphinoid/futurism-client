<div id="deck-builder" class="row">

    <div id="deck-settings" class="col-sm-5 side-panel">
        
        <form class="form-horizontal">
            <legend>
                <h1>{{lang.deckBuilder.title}}</h1>
            </legend>
            <fieldset>

                <div class="form-group">
                    <label for="inputName" class="col-md-2 control-label">{{lang.deckBuilder.name}}</label>
                    <div class="col-md-10">
                        <input id="inputName" class="form-control" type="text" ng-model="deck.name">
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="col-md-2 control-label">{{lang.deckBuilder.cards}}</label>
                    <div class="col-md-10">
                        <ul class="card-list clearfix" ng-if="deck.cards.length > 0">
                            <li class="card-holder" ng-repeat="card in deck.cards">
                                <card-display card="card" ng-click="removeCard(card)" size="small"></card-display>
                            </li>
                        </ul>
                        <span class="subtle" ng-if="deck.cards.length === 0">
                            {{lang.deckBuilder.none}}
                        </span>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="col-md-2 control-label">{{lang.deckBuilder.stats}}</label>
                    <div class="col-md-10">
                        <deck-analyzer deck="deck"></deck-analyzer>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="share-box" class="col-md-2 control-label">{{lang.deckBuilder.share}}</label>
                    <div class="col-md-10">
                        <div class="checkbox">
                            <label><input id="share-box" type="checkbox" ng-model="deck.share"> {{lang.deckBuilder.shareDesc}}</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <div class="col-md-10 col-md-offset-2">
                        <busy-button class="btn btn-primary" on-click="saveDeck()" label="{{lang.deckBuilder.save}}"></busy-button>
                        <a ng-href="/deck-selector/{{me.user._id}}"><button class='btn btn-default'>{{lang.deckBuilder.load}}</button></a>
                        <button class='btn btn-default' type="submit" ng-click="applyDefaults()">{{lang.deckBuilder.new}}</button>
                    </div>
                </div>
        
            </fieldset>
        </form>
    </div>

    <div id="cards" class="col-sm-7">
        <div class="clearfix">
            <h3>{{lang.deckBuilder.myCards}}</h3>
            <paginated resource="CardResource" results="myCards" query="myCardsQuery">
            <ul class="card-list clearfix">
                <li class="card-holder" ng-repeat="card in myCards">
                    <card-display card="card" ng-click="addCard(card)" size="medium"></card-display>
                </li>
            </ul>
            </paginated>
        </div>
        
        <div class="clearfix">
            <h3>{{lang.deckBuilder.favoriteCards}}</h3>
            <paginated resource="FavoriteCardResource" results="favoriteCards" query="favoriteCardsQuery">
            <ul class="card-list clearfix">
                <li class="card-holder" ng-repeat="card in favoriteCards">
                    <card-display card="card" ng-click="addCard(card)" size="medium"></card-display>
                </li>
            </ul>
            </paginated>
        </div>
        
        <div class="clearfix">
            <h3>{{lang.deckBuilder.popularCards}}</h3>
            <paginated resource="PublicCardResource" results="popularCards" query="popularCardsQuery">
            <ul class="card-list clearfix">
                <li class="card-holder" ng-repeat="card in popularCards">
                    <card-display card="card" ng-click="addCard(card)" size="medium"></card-display>
                </li>
            </ul>
            </paginated>
        </div>
    </div>

</div>